var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function i(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function a(){return d(" ")}function f(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function m(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function p(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function g(t,e){t.value=null==e?"":e}let $;function h(t){$=t}const y=[],b=[],I=[],k=[],x=Promise.resolve();let C=!1;function _(t){I.push(t)}const w=new Set;let v=0;function E(){const t=$;do{for(;v<y.length;){const t=y[v];v++,h(t),S(t.$$)}for(h(null),y.length=0,v=0;b.length;)b.pop()();for(let t=0;t<I.length;t+=1){const e=I[t];w.has(e)||(w.add(e),e())}I.length=0}while(y.length);for(;k.length;)k.pop()();C=!1,w.clear(),h(t)}function S(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(_)}}const A=new Set;let M;function N(){M={r:0,c:[],p:M}}function O(){M.r||o(M.c),M=M.p}function T(t,e){t&&t.i&&(A.delete(t),t.i(e))}function j(t,e,n,o){if(t&&t.o){if(A.has(t))return;A.add(t),M.c.push((()=>{A.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function D(t,e){j(t,1,1,(()=>{e.delete(t.key)}))}function J(t){t&&t.c()}function L(t,n,l,c){const{fragment:s,on_mount:u,on_destroy:i,after_update:d}=t.$$;s&&s.m(n,l),c||_((()=>{const n=u.map(e).filter(r);i?i.push(...n):o(n),t.$$.on_mount=[]})),d.forEach(_)}function q(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function B(t,e){-1===t.$$.dirty[0]&&(y.push(t),C||(C=!0,x.then(E)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function P(e,r,l,c,s,i,d,a=[-1]){const f=$;h(e);const m=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(f?f.$$.context:[])),callbacks:n(),dirty:a,skip_bound:!1,root:r.target||f.$$.root};d&&d(m.root);let p=!1;if(m.ctx=l?l(e,r.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return m.ctx&&s(m.ctx[t],m.ctx[t]=r)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](r),p&&B(e,t)),n})):[],m.update(),p=!0,o(m.before_update),m.fragment=!!c&&c(m.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);m.fragment&&m.fragment.l(t),t.forEach(u)}else m.fragment&&m.fragment.c();r.intro&&T(e.$$.fragment),L(e,r.target,r.anchor,r.customElement),E()}h(f)}class W{$destroy(){q(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Y(e){let n,o,r,l,g,$,h,y,b=e[0].name+"";return{c(){n=i("main"),o=i("li"),r=d(b),l=a(),g=i("input"),m(g,"type","checkbox"),g.checked=$=e[0].done,m(g,"aria-label","If the task has been completed or not. Tick it when it's done")},m(t,u){s(t,n,u),c(n,o),c(o,r),c(o,l),c(o,g),h||(y=f(g,"change",e[1]),h=!0)},p(t,[e]){1&e&&b!==(b=t[0].name+"")&&p(r,b),1&e&&$!==($=t[0].done)&&(g.checked=$)},i:t,o:t,d(t){t&&u(n),h=!1,y()}}}function z(t,e,n){let o,{todoItems:r}=e,{index:l}=e,{toggleItem:c}=e;return t.$$set=t=>{"todoItems"in t&&n(2,r=t.todoItems),"index"in t&&n(3,l=t.index),"toggleItem"in t&&n(4,c=t.toggleItem)},t.$$.update=()=>{12&t.$$.dirty&&n(0,o=r[l])},[o,t=>{c(l)},r,l,c]}class F extends W{constructor(t){super(),P(this,t,z,Y,l,{todoItems:2,index:3,toggleItem:4})}}function G(t,e,n){const o=t.slice();return o[2]=e[n],o[4]=n,o}function H(t){let e,n,o=[],r=new Map,l=t[0];const c=t=>t[2].id;for(let e=0;e<l.length;e+=1){let n=G(t,l,e),s=c(n);r.set(s,o[e]=Q(s,n))}return{c(){e=i("ul");for(let t=0;t<o.length;t+=1)o[t].c()},m(t,r){s(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,n){3&n&&(l=t[0],N(),o=function(t,e,n,o,r,l,c,s,u,i,d,a){let f=t.length,m=l.length,p=f;const g={};for(;p--;)g[t[p].key]=p;const $=[],h=new Map,y=new Map;for(p=m;p--;){const t=a(r,l,p),s=n(t);let u=c.get(s);u?o&&u.p(t,e):(u=i(s,t),u.c()),h.set(s,$[p]=u),s in g&&y.set(s,Math.abs(p-g[s]))}const b=new Set,I=new Set;function k(t){T(t,1),t.m(s,d),c.set(t.key,t),d=t.first,m--}for(;f&&m;){const e=$[m-1],n=t[f-1],o=e.key,r=n.key;e===n?(d=e.first,f--,m--):h.has(r)?!c.has(o)||b.has(o)?k(e):I.has(r)?f--:y.get(o)>y.get(r)?(I.add(o),k(e)):(b.add(r),f--):(u(n,c),f--)}for(;f--;){const e=t[f];h.has(e.key)||u(e,c)}for(;m;)k($[m-1]);return $}(o,n,c,1,t,l,r,e,D,Q,null,G),O())},i(t){if(!n){for(let t=0;t<l.length;t+=1)T(o[t]);n=!0}},o(t){for(let t=0;t<o.length;t+=1)j(o[t]);n=!1},d(t){t&&u(e);for(let t=0;t<o.length;t+=1)o[t].d()}}}function K(e){let n;return{c(){n=d("You haven't got anything else left to do")},m(t,e){s(t,n,e)},p:t,i:t,o:t,d(t){t&&u(n)}}}function Q(t,e){let n,o,r;return o=new F({props:{todoItems:e[0],index:e[4],toggleItem:e[1]}}),{key:t,first:null,c(){n=d(""),J(o.$$.fragment),this.first=n},m(t,e){s(t,n,e),L(o,t,e),r=!0},p(t,n){e=t;const r={};1&n&&(r.todoItems=e[0]),1&n&&(r.index=e[4]),2&n&&(r.toggleItem=e[1]),o.$set(r)},i(t){r||(T(o.$$.fragment,t),r=!0)},o(t){j(o.$$.fragment,t),r=!1},d(t){t&&u(n),q(o,t)}}}function R(t){let e,n,o,r;const l=[K,H],c=[];function d(t,e){return 0==t[0].length?0:1}return n=d(t),o=c[n]=l[n](t),{c(){e=i("main"),o.c()},m(t,o){s(t,e,o),c[n].m(e,null),r=!0},p(t,[r]){let s=n;n=d(t),n===s?c[n].p(t,r):(N(),j(c[s],1,1,(()=>{c[s]=null})),O(),o=c[n],o?o.p(t,r):(o=c[n]=l[n](t),o.c()),T(o,1),o.m(e,null))},i(t){r||(T(o),r=!0)},o(t){j(o),r=!1},d(t){t&&u(e),c[n].d()}}}function U(t,e,n){let{todoItems:o,toggleItem:r}=e;return t.$$set=t=>{"todoItems"in t&&n(0,o=t.todoItems),"toggleItem"in t&&n(1,r=t.toggleItem)},[o,r]}class V extends W{constructor(t){super(),P(this,t,U,R,l,{todoItems:0,toggleItem:1})}}function X(e){let n,l,$,h,y,b,I,k,x,C,_,w,v,E,S,A,M,N,O,T=1==e[3]?"":"s";return{c(){n=i("main"),l=i("form"),$=i("input"),h=a(),y=i("button"),b=d("Add"),I=a(),k=i("button"),x=d("Delete completed"),_=a(),w=i("br"),v=a(),E=d(e[3]),S=d(" task"),A=d(T),M=d(" left"),m($,"type","text"),m($,"placeholder","What do you need to do?"),m($,"aria-label","The task you want to add to your to do list"),m($,"class","svelte-gbwyk5"),m(y,"type","submit"),y.disabled=e[4],m(k,"type","button"),k.disabled=C=0==e[1]},m(t,o){var u;s(t,n,o),c(n,l),c(l,$),g($,e[2]),c(l,h),c(l,y),c(y,b),c(l,I),c(l,k),c(k,x),c(n,_),c(n,w),c(n,v),c(n,E),c(n,S),c(n,A),c(n,M),N||(O=[f($,"input",e[8]),f(y,"click",e[5]),f(k,"click",(function(){r(e[0])&&e[0].apply(this,arguments)})),f(l,"submit",(u=e[5],function(t){return t.preventDefault(),u.call(this,t)}))],N=!0)},p(t,[n]){e=t,4&n&&$.value!==e[2]&&g($,e[2]),16&n&&(y.disabled=e[4]),2&n&&C!==(C=0==e[1])&&(k.disabled=C),8&n&&p(E,e[3]),8&n&&T!==(T=1==e[3]?"":"s")&&p(A,T)},i:t,o:t,d(t){t&&u(n),N=!1,o(O)}}}function Z(t,e,n){let o,r,{addItem:l}=e,{deleteCompleted:c}=e,{completedCount:s}=e,{taskCount:u}=e,i="";return t.$$set=t=>{"addItem"in t&&n(6,l=t.addItem),"deleteCompleted"in t&&n(0,c=t.deleteCompleted),"completedCount"in t&&n(1,s=t.completedCount),"taskCount"in t&&n(7,u=t.taskCount)},t.$$.update=()=>{4&t.$$.dirty&&n(4,o=""==i),130&t.$$.dirty&&n(3,r=u-s)},[c,s,i,r,o,t=>{l(i),n(2,i="")},l,u,function(){i=this.value,n(2,i)}]}class tt extends W{constructor(t){super(),P(this,t,Z,X,l,{addItem:6,deleteCompleted:0,completedCount:1,taskCount:7})}}const et=t=>{let e=0;for(;;){if(!t.some((t=>t==e||t?.id==e)))return e;e++}};function nt(t){let e,n,o,r,l,d,f;return n=new V({props:{todoItems:t[0],toggleItem:t[4]}}),d=new tt({props:{addItem:t[2],deleteCompleted:t[3],completedCount:t[1].length,taskCount:t[0].length}}),{c(){e=i("main"),J(n.$$.fragment),o=a(),r=i("br"),l=a(),J(d.$$.fragment)},m(t,u){s(t,e,u),L(n,e,null),c(e,o),c(e,r),c(e,l),L(d,e,null),f=!0},p(t,[e]){const o={};1&e&&(o.todoItems=t[0]),n.$set(o);const r={};2&e&&(r.completedCount=t[1].length),1&e&&(r.taskCount=t[0].length),d.$set(r)},i(t){f||(T(n.$$.fragment,t),T(d.$$.fragment,t),f=!0)},o(t){j(n.$$.fragment,t),j(d.$$.fragment,t),f=!1},d(t){t&&u(e),q(n),q(d)}}}const ot="todoItems";function rt(t,e,n){let o,r=JSON.parse(localStorage.getItem(ot))??[];return t.$$.update=()=>{1&t.$$.dirty&&n(1,o=r.filter((t=>t.done))),1&t.$$.dirty&&localStorage.setItem(ot,JSON.stringify(r))},[r,o,t=>{r.push({name:t,done:!1,id:et(r)}),n(0,r)},t=>{n(0,r=r.filter((t=>!t.done)))},t=>{let e=r[t];n(0,r[t]={...e,done:!e.done},r)}]}return new class extends W{constructor(t){super(),P(this,t,rt,nt,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
