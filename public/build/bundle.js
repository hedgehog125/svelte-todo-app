var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function i(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function a(){return d(" ")}function f(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function m(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function p(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function g(t,e){t.value=null==e?"":e}let $;function h(t){$=t}const y=[],b=[],I=[],k=[],x=Promise.resolve();let C=!1;function _(t){I.push(t)}const w=new Set;let v=0;function E(){const t=$;do{for(;v<y.length;){const t=y[v];v++,h(t),S(t.$$)}for(h(null),y.length=0,v=0;b.length;)b.pop()();for(let t=0;t<I.length;t+=1){const e=I[t];w.has(e)||(w.add(e),e())}I.length=0}while(y.length);for(;k.length;)k.pop()();C=!1,w.clear(),h(t)}function S(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(_)}}const A=new Set;let M;function N(t,e){t&&t.i&&(A.delete(t),t.i(e))}function O(t,e,n,o){if(t&&t.o){if(A.has(t))return;A.add(t),M.c.push((()=>{A.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function T(t,e){O(t,1,1,(()=>{e.delete(t.key)}))}function j(t){t&&t.c()}function D(t,n,s,l){const{fragment:c,on_mount:u,on_destroy:i,after_update:d}=t.$$;c&&c.m(n,s),l||_((()=>{const n=u.map(e).filter(r);i?i.push(...n):o(n),t.$$.on_mount=[]})),d.forEach(_)}function J(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function L(t,e){-1===t.$$.dirty[0]&&(y.push(t),C||(C=!0,x.then(E)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function q(e,r,s,l,c,i,d,a=[-1]){const f=$;h(e);const m=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(f?f.$$.context:[])),callbacks:n(),dirty:a,skip_bound:!1,root:r.target||f.$$.root};d&&d(m.root);let p=!1;if(m.ctx=s?s(e,r.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return m.ctx&&c(m.ctx[t],m.ctx[t]=r)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](r),p&&L(e,t)),n})):[],m.update(),p=!0,o(m.before_update),m.fragment=!!l&&l(m.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);m.fragment&&m.fragment.l(t),t.forEach(u)}else m.fragment&&m.fragment.c();r.intro&&N(e.$$.fragment),D(e,r.target,r.anchor,r.customElement),E()}h(f)}class B{$destroy(){J(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function P(e){let n,o,r,s,g,$,h,y,b=e[0].name+"";return{c(){n=i("main"),o=i("li"),r=d(b),s=a(),g=i("input"),m(g,"type","checkbox"),g.checked=$=e[0].done,m(g,"aria-label","If the task has been completed or not. Tick it when it's done")},m(t,u){c(t,n,u),l(n,o),l(o,r),l(o,s),l(o,g),h||(y=f(g,"change",e[1]),h=!0)},p(t,[e]){1&e&&b!==(b=t[0].name+"")&&p(r,b),1&e&&$!==($=t[0].done)&&(g.checked=$)},i:t,o:t,d(t){t&&u(n),h=!1,y()}}}function W(t,e,n){let o,{todoItems:r}=e,{index:s}=e,{toggleItem:l}=e;return t.$$set=t=>{"todoItems"in t&&n(2,r=t.todoItems),"index"in t&&n(3,s=t.index),"toggleItem"in t&&n(4,l=t.toggleItem)},t.$$.update=()=>{12&t.$$.dirty&&n(0,o=r[s])},[o,t=>{l(s)},r,s,l]}class z extends B{constructor(t){super(),q(this,t,W,P,s,{todoItems:2,index:3,toggleItem:4})}}function F(t,e,n){const o=t.slice();return o[2]=e[n],o[4]=n,o}function G(t,e){let n,o,r;return o=new z({props:{todoItems:e[0],index:e[4],toggleItem:e[1]}}),{key:t,first:null,c(){n=d(""),j(o.$$.fragment),this.first=n},m(t,e){c(t,n,e),D(o,t,e),r=!0},p(t,n){e=t;const r={};1&n&&(r.todoItems=e[0]),1&n&&(r.index=e[4]),2&n&&(r.toggleItem=e[1]),o.$set(r)},i(t){r||(N(o.$$.fragment,t),r=!0)},o(t){O(o.$$.fragment,t),r=!1},d(t){t&&u(n),J(o,t)}}}function H(t){let e,n,r,s=[],d=new Map,a=t[0];const f=t=>t[2].id;for(let e=0;e<a.length;e+=1){let n=F(t,a,e),o=f(n);d.set(o,s[e]=G(o,n))}return{c(){e=i("main"),n=i("ul");for(let t=0;t<s.length;t+=1)s[t].c()},m(t,o){c(t,e,o),l(e,n);for(let t=0;t<s.length;t+=1)s[t].m(n,null);r=!0},p(t,[e]){3&e&&(a=t[0],M={r:0,c:[],p:M},s=function(t,e,n,o,r,s,l,c,u,i,d,a){let f=t.length,m=s.length,p=f;const g={};for(;p--;)g[t[p].key]=p;const $=[],h=new Map,y=new Map;for(p=m;p--;){const t=a(r,s,p),c=n(t);let u=l.get(c);u?o&&u.p(t,e):(u=i(c,t),u.c()),h.set(c,$[p]=u),c in g&&y.set(c,Math.abs(p-g[c]))}const b=new Set,I=new Set;function k(t){N(t,1),t.m(c,d),l.set(t.key,t),d=t.first,m--}for(;f&&m;){const e=$[m-1],n=t[f-1],o=e.key,r=n.key;e===n?(d=e.first,f--,m--):h.has(r)?!l.has(o)||b.has(o)?k(e):I.has(r)?f--:y.get(o)>y.get(r)?(I.add(o),k(e)):(b.add(r),f--):(u(n,l),f--)}for(;f--;){const e=t[f];h.has(e.key)||u(e,l)}for(;m;)k($[m-1]);return $}(s,e,f,1,t,a,d,n,T,G,null,F),M.r||o(M.c),M=M.p)},i(t){if(!r){for(let t=0;t<a.length;t+=1)N(s[t]);r=!0}},o(t){for(let t=0;t<s.length;t+=1)O(s[t]);r=!1},d(t){t&&u(e);for(let t=0;t<s.length;t+=1)s[t].d()}}}function K(t,e,n){let{todoItems:o,toggleItem:r}=e;return t.$$set=t=>{"todoItems"in t&&n(0,o=t.todoItems),"toggleItem"in t&&n(1,r=t.toggleItem)},[o,r]}class Q extends B{constructor(t){super(),q(this,t,K,H,s,{todoItems:0,toggleItem:1})}}function R(e){let n,s,$,h,y,b,I,k,x,C,_,w,v,E,S,A,M,N,O,T=1==e[3]?"":"s";return{c(){n=i("main"),s=i("form"),$=i("input"),h=a(),y=i("button"),b=d("Add"),I=a(),k=i("button"),x=d("Delete completed"),_=a(),w=i("br"),v=a(),E=d(e[3]),S=d(" task"),A=d(T),M=d(" left"),m($,"type","text"),m($,"placeholder","What do you need to do?"),m($,"aria-label","The task you want to add to your to do list"),m($,"class","svelte-gbwyk5"),m(y,"type","submit"),y.disabled=e[4],m(k,"type","button"),k.disabled=C=0==e[1]},m(t,o){var u;c(t,n,o),l(n,s),l(s,$),g($,e[2]),l(s,h),l(s,y),l(y,b),l(s,I),l(s,k),l(k,x),l(n,_),l(n,w),l(n,v),l(n,E),l(n,S),l(n,A),l(n,M),N||(O=[f($,"input",e[8]),f(y,"click",e[5]),f(k,"click",(function(){r(e[0])&&e[0].apply(this,arguments)})),f(s,"submit",(u=e[5],function(t){return t.preventDefault(),u.call(this,t)}))],N=!0)},p(t,[n]){e=t,4&n&&$.value!==e[2]&&g($,e[2]),16&n&&(y.disabled=e[4]),2&n&&C!==(C=0==e[1])&&(k.disabled=C),8&n&&p(E,e[3]),8&n&&T!==(T=1==e[3]?"":"s")&&p(A,T)},i:t,o:t,d(t){t&&u(n),N=!1,o(O)}}}function U(t,e,n){let o,r,{addItem:s}=e,{deleteCompleted:l}=e,{completedCount:c}=e,{taskCount:u}=e,i="";return t.$$set=t=>{"addItem"in t&&n(6,s=t.addItem),"deleteCompleted"in t&&n(0,l=t.deleteCompleted),"completedCount"in t&&n(1,c=t.completedCount),"taskCount"in t&&n(7,u=t.taskCount)},t.$$.update=()=>{4&t.$$.dirty&&n(4,o=""==i),130&t.$$.dirty&&n(3,r=u-c)},[l,c,i,r,o,t=>{s(i),n(2,i="")},s,u,function(){i=this.value,n(2,i)}]}class V extends B{constructor(t){super(),q(this,t,U,R,s,{addItem:6,deleteCompleted:0,completedCount:1,taskCount:7})}}const X=t=>{let e=0;for(;;){if(!t.some((t=>t==e||t?.id==e)))return e;e++}};function Y(t){let e,n,o,r,s,d,f;return n=new Q({props:{todoItems:t[0],toggleItem:t[4]}}),d=new V({props:{addItem:t[2],deleteCompleted:t[3],completedCount:t[1].length,taskCount:t[0].length}}),{c(){e=i("main"),j(n.$$.fragment),o=a(),r=i("br"),s=a(),j(d.$$.fragment)},m(t,u){c(t,e,u),D(n,e,null),l(e,o),l(e,r),l(e,s),D(d,e,null),f=!0},p(t,[e]){const o={};1&e&&(o.todoItems=t[0]),n.$set(o);const r={};2&e&&(r.completedCount=t[1].length),1&e&&(r.taskCount=t[0].length),d.$set(r)},i(t){f||(N(n.$$.fragment,t),N(d.$$.fragment,t),f=!0)},o(t){O(n.$$.fragment,t),O(d.$$.fragment,t),f=!1},d(t){t&&u(e),J(n),J(d)}}}const Z="todoItems";function tt(t,e,n){let o,r=JSON.parse(localStorage.getItem(Z))??[];return t.$$.update=()=>{1&t.$$.dirty&&n(1,o=r.filter((t=>t.done))),1&t.$$.dirty&&localStorage.setItem(Z,JSON.stringify(r))},[r,o,t=>{r.push({name:t,done:!1,id:X(r)}),n(0,r)},t=>{n(0,r=r.filter((t=>!t.done)))},t=>{let e=r[t];n(0,r[t]={...e,done:!e.done},r)}]}return new class extends B{constructor(t){super(),q(this,t,tt,Y,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
